(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import"],{"39ea":function(t,e,r){var n=r("7b3a").regex;function s(t){return new RegExp(t).test(this.password)===this.positive}t.exports={not:function(t){return this.positive=!1,!t||s.call(this,t)},has:function(t){return this.positive=!0,!t||s.call(this,t)},is:function(){return this.positive=!0,!0},min:function(t){return this.password.length>=t},max:function(t){return this.password.length<=t},digits:function(){return s.call(this,n.digits)},letters:function(){return s.call(this,n.letters)},uppercase:function(){return s.call(this,n.uppercase)},lowercase:function(){return s.call(this,n.lowercase)},symbols:function(){return s.call(this,n.symbols)},spaces:function(){return s.call(this,n.spaces)},oneOf:function(t){return t.indexOf(this.password)>=0===this.positive}}},7989:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Center",[r("router-link",{staticClass:"d-inline-block my-2 no-decoration",attrs:{to:"/"}},[r("span",{staticClass:"logo iconfont icon-steemconnect"}),r("h4",{staticClass:"m-0"},[t._v("steemconnect")])]),r("div",{staticClass:"width-full p-4 mb-2"},[r("form",{staticClass:"text-left",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[1===t.step?r("div",[r("label",{attrs:{for:"username"}},[t._v("Steem username")]),t.dirty.username&&t.errors.username?r("div",{staticClass:"error mb-2"},[t._v("\n          "+t._s(t.errors.username)+"\n        ")]):t._e(),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}}],key:"username",staticClass:"form-control input-lg input-block mb-2",attrs:{id:"username",type:"text",autocorrect:"off",autocapitalize:"none",autocomplete:"username"},domProps:{value:t.username},on:{blur:[function(e){return t.handleBlur("username")},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.username=e.target.value.trim())}}}),r("label",{attrs:{for:"password"}},[t._v(" Steem password or "+t._s(t.authority||"private")+" key ")]),t.dirty.password&&t.errors.password?r("div",{staticClass:"error mb-2"},[t._v("\n          "+t._s(t.errors.password)+"\n        ")]):t._e(),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],key:"password",staticClass:"form-control input-lg input-block mb-2",attrs:{id:"password",type:"password",autocorrect:"off",autocapitalize:"none",autocomplete:"current-password"},domProps:{value:t.password},on:{blur:[function(e){return t.handleBlur("password")},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.password=e.target.value.trim())}}}),r("label",{staticClass:"mb-2",class:{"mb-4":!t.error}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.storeAccount,expression:"storeAccount"}],key:"storeAccount",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.storeAccount)?t._i(t.storeAccount,null)>-1:t.storeAccount},on:{change:function(e){var r=t.storeAccount,n=e.target,s=!!n.checked;if(Array.isArray(r)){var o=null,i=t._i(r,o);n.checked?i<0&&(t.storeAccount=r.concat([o])):i>-1&&(t.storeAccount=r.slice(0,i).concat(r.slice(i+1)))}else t.storeAccount=s}}}),t._v(" Keep the account on\n          this computer\n        ")]),t.error?r("div",{staticClass:"error mb-4"},[t._v(t._s(t.error))]):t._e(),r("button",{staticClass:"btn btn-large btn-blue input-block mb-2",attrs:{disabled:t.nextDisabled||t.isLoading},on:{click:function(e){return e.preventDefault(),t.submitNext(e)}}},[t._v("\n          "+t._s(t.nextText)+"\n        ")])]):t._e(),2===t.step?r("div",[r("label",{attrs:{for:"key"}},[t._v("\n          Keychain password\n          "),r("span",{staticClass:"tooltipped tooltipped-n tooltipped-multiline",attrs:{"aria-label":t.TOOLTIP_IMPORT_ENCRYPTION_KEY}},[r("span",{staticClass:"iconfont icon-info"})])]),t.dirty.key&&t.errors.key?r("div",{staticClass:"error mb-2"},[t._v("\n          "+t._s(t.errors.key)+"\n        ")]):t._e(),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.key,expression:"key",modifiers:{trim:!0}}],key:"key",staticClass:"form-control input-lg input-block mb-2",attrs:{id:"key",type:"password",autocorrect:"off",autocapitalize:"none",autocomplete:"new-password"},domProps:{value:t.key},on:{blur:[function(e){return t.handleBlur("key")},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.key=e.target.value.trim())}}}),r("label",{attrs:{for:"key-confirmation"}},[t._v("Confirm password")]),t.dirty.keyConfirmation&&t.errors.keyConfirmation?r("div",{staticClass:"error mb-2"},[t._v("\n          "+t._s(t.errors.keyConfirmation)+"\n        ")]):t._e(),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyConfirmation,expression:"keyConfirmation",modifiers:{trim:!0}}],key:"keyConfirmation",staticClass:"form-control input-lg input-block mb-2",attrs:{id:"key-confirmation",type:"password",autocorrect:"off",autocapitalize:"none",autocomplete:"new-password"},domProps:{value:t.keyConfirmation},on:{blur:[function(e){return t.handleBlur("keyConfirmation")},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.keyConfirmation=e.target.value.trim())}}}),r("legend",{staticClass:"mb-4 d-block"},[t._v("\n          The keychain password will be required to unlock your account for usage.\n        ")]),r("button",{staticClass:"btn btn-large btn-blue input-block mb-2",attrs:{disabled:t.submitDisabled||t.isLoading,type:"submit"}},[t._v("\n          Get started\n        ")])]):t._e(),t.hasAccounts?r("router-link",{staticClass:"btn btn-large input-block text-center mb-2",attrs:{to:{name:"login",query:{redirect:t.redirect,authority:t.authority}}}},[t._v("\n        Log in instead\n      ")]):t._e()],1)]),r("Footer")],1)},s=[],o=(r("6b54"),r("f499")),i=r.n(o),a=(r("96cf"),r("3b8d")),c=r("cebc"),u=r("2f62"),l=r("66b3"),p=r.n(l),m=r("9397"),d=r.n(m),f=r("40c1"),h=r("cbd4"),y=r("c9c1"),b=r("a2b6"),v=new d.a;v.is().min(8).is().max(50).has().uppercase().has().lowercase();var w={data:function(){return{dirty:{username:!1,password:!1,key:!1,keyConfirmation:!1},error:"",storeAccount:!Object(b["k"])(),isLoading:!1,redirect:this.$route.query.redirect,authority:Object(f["b"])(this.$route.query.authority),TOOLTIP_IMPORT_ENCRYPTION_KEY:y["c"]}},computed:{step:{get:function(){return this.$store.state.persistentForms.import.step},set:function(t){this.$store.commit("saveImportStep",t)}},username:{get:function(){return this.$store.state.persistentForms.import.username},set:function(t){this.$store.commit("saveImportUsername",t)}},password:{get:function(){return this.$store.state.persistentForms.import.password},set:function(t){this.$store.commit("saveImportPassword",t)}},key:{get:function(){return this.$store.state.persistentForms.import.key},set:function(t){this.$store.commit("saveImportKey",t)}},keyConfirmation:{get:function(){return this.$store.state.persistentForms.import.keyConfirmation},set:function(t){this.$store.commit("saveImportKeyConfirmation",t)}},hasAccounts:function(){return Object(h["c"])()},errors:function(){var t={},e=this.username,r=this.password,n=this.key,s=this.keyConfirmation;return e||(t.username="Username is required."),r||(t.password="Password is required."),n?v.validate(n)||(t.key="Keychain password has to be at least 8 characters long and contain lowercase letter and uppercase letter."):t.key="Keychain password is required.",s?s!==n&&(t.keyConfirmation="Keychain passwords do not match."):t.keyConfirmation="Keychain password confirmation is required.",t},nextText:function(){return this.storeAccount?"Continue":"Get started"},nextDisabled:function(){return!!this.errors.username||!!this.errors.password},submitDisabled:function(){return!!this.errors.key||!!this.errors.keyConfirmation}},methods:Object(c["a"])({},Object(u["b"])(["login"]),{resetForm:function(){this.dirty={username:!1,password:!1,key:!1,keyConfirmation:!1},this.step=1,this.username="",this.password="",this.key="",this.keyConfirmation=""},handleBlur:function(t){this.dirty[t]=!0},startLogin:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r,n,s,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,e=this.username,r=this.password,n=this.authority,t.next=4,Object(f["c"])(e,r);case 4:if(s=t.sent,!n||s[n]){t.next=9;break}return this.isLoading=!1,this.error="You need to use master or ".concat(n," key to log in."),t.abrupt("return");case 9:this.login({username:e,keys:s}).then(function(){var t=o.$route.query.redirect;o.$router.push(t||"/"),o.isLoading=!1,o.error="",o.resetForm()}).catch(function(t){console.log("Login failed",t),o.isLoading=!1,o.error=y["a"]});case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),submitNext:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.username,r=this.password,this.isLoading=!0,t.next=4,Object(f["a"])(e,r);case 4:if(n=!t.sent,this.isLoading=!1,!n){t.next=9;break}return this.error=y["a"],t.abrupt("return");case 9:this.error="",this.storeAccount?this.step+=1:this.startLogin();case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),submitForm:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,r,n,s,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.username,r=this.password,n=this.key,this.isLoading=!0,t.next=4,Object(f["c"])(e,r);case 4:s=t.sent,p.a.encrypt({data:new p.a.Buffer(i()(s)),key:new p.a.Buffer(n)},function(t,r){if(t)return o.isLoading=!1,void console.log("err",t);Object(h["a"])(e,r.toString("hex")),o.startLogin()});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()})},g=w,k=r("2877"),C=Object(k["a"])(g,n,s,!1,null,null,null);e["default"]=C.exports},"7b3a":function(t,e){t.exports={error:{length:"Length should be a valid positive number",password:"Password should be a valid string"},regex:{digits:/\d+/,letters:/[a-zA-Z]+/,uppercase:/[A-Z]+/,lowercase:/[a-z]+/,symbols:/[`~\!@#\$%\^\&\*\(\)\-_\=\+\[\{\}\]\\\|;:'",<.>\/\?€£¥₹]+/,spaces:/[\s]+/}}},9397:function(t,e,r){var n=r("39ea"),s=r("7b3a").error;function o(t){if(!t||"number"!==typeof t||t<0)throw new Error(s.length)}function i(t){return n[t.method].apply(this,t.arguments)}function a(t,e){return this.properties.push({method:t,arguments:e}),this}function c(){this.properties=[]}c.prototype.validate=function(t,e){if("string"!==typeof t)throw new Error(s.password);this.password=t,this.positive=!0;var r=this;return e&&!0===e.list?this.properties.reduce(function(t,e){return i.call(r,e)?t:t.concat(e.method)},[]):this.properties.every(function(t){return i.call(r,t)})},c.prototype.not=function(){return a.call(this,"not",arguments)},c.prototype.has=function(){return a.call(this,"has",arguments)},c.prototype.is=function(){return a.call(this,"is",arguments)},c.prototype.min=function(t){return o(t),a.call(this,"min",arguments)},c.prototype.max=function(t){return o(t),a.call(this,"max",arguments)},c.prototype.digits=function(){return a.call(this,"digits",arguments)},c.prototype.letters=function(){return a.call(this,"letters",arguments)},c.prototype.uppercase=function(){return a.call(this,"uppercase",arguments)},c.prototype.lowercase=function(){return a.call(this,"lowercase",arguments)},c.prototype.symbols=function(){return a.call(this,"symbols",arguments)},c.prototype.spaces=function(){return a.call(this,"spaces",arguments)},c.prototype.oneOf=function(){return a.call(this,"oneOf",arguments)},t.exports=c}}]);
//# sourceMappingURL=import.2831e886.js.map